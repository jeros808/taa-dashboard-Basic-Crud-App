{"ast":null,"code":"var _jsxFileName = \"/Users/jeffrosal1/Desktop/TAADASHBOARD-1/taa-dashboard/src/UploadList.js\";\nimport { f, auth, database, storage, storageRef } from \"./config/config.js\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport { Container, Row, Col, Button, NavDropdown } from \"react-bootstrap\";\nimport React, { Component } from \"react\"; //import storage from \"../Firebase/index\";\n//\n\nclass UploadList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        }));\n      }\n    };\n\n    this.handleUpload = async imageUrl => {\n      const image = this.state.image;\n      const uploadTask = storage.ref(\"images/\".concat(image.name)).put(image); // var photoObj = {\n      //   url: imageUrl\n      // };\n\n      uploadTask.on(\"state_changed\", snapshot => {\n        // progress function ...\n        const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        this.setState({\n          progress\n        });\n      }, error => {\n        // Error function ...\n        console.log(error);\n      }, () => {\n        storage.ref(\"/images/\").child(image.name).getDownloadURL().then(url => {\n          this.setState({\n            url\n          });\n          const messageRef = f.database().ref(\"downloadUrl\");\n          messageRef.push({\n            url: url\n          }); //console.log(imageUrl);\n        });\n      });\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.state = {\n      //orderId: [],\n      url: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n  }\n\n  //test\n  componentDidMount() {\n    // this.state = {\n    //   //orderId: [],\n    //   url: []\n    // };\n    const ordersRef = f.database().ref().child(\"downloadUrl\").orderByKey();\n    ordersRef.once(\"value\", snapshot => {\n      snapshot.forEach(child => {\n        this.setState({\n          url: this.state.url.concat([child.val().url])\n        });\n      });\n      const ordersList = this.state.url.map((dataList, index) => // <p>\n      //   {/* {dataList} */}\n      //   <br />\n      React.createElement(Col, {\n        sm: 3,\n        style: {\n          height: \"50px\",\n          width: \"50px\",\n          marginTop: \"10px\",\n          marginBottom: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.url[index],\n        height: \"100%\",\n        width: \"100%\",\n        style: {\n          objectFit: \"scale-down\",\n          padding: \"10px\",\n          border: \"1px solid grey\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })));\n      this.setState({\n        ordersRef: ordersList\n      });\n    }); //end test\n  }\n\n  //test\n  render() {\n    const messageRef = f.database().ref(\"downloadUrl\");\n    console.log(messageRef);\n    return React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"green-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"React Firebase Image Uploader\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"progress\", {\n      value: this.state.progress,\n      max: \"100\",\n      className: \"progress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"file-field input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"File\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"file-path-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"file-path validate\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      value: this.state.url,\n      name: \"upload\",\n      onClick: this.handleUpload,\n      onChange: this.onChange,\n      className: \"waves-effect waves-light btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: this.state.url || \"https://via.placeholder.com/400x300\",\n      alt: \"Uploaded Images\",\n      height: \"300\",\n      width: \"400\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"hi\"), React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"App-intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, this.state.ordersRef)))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), \"hey\"); // var imagesRef = storageRef.child(\"images\");\n    // console.log(\"hello\");\n  }\n\n}\n\nexport default UploadList;","map":{"version":3,"sources":["/Users/jeffrosal1/Desktop/TAADASHBOARD-1/taa-dashboard/src/UploadList.js"],"names":["f","auth","database","storage","storageRef","Container","Row","Col","Button","NavDropdown","React","Component","UploadList","constructor","props","handleChange","e","target","files","image","setState","handleUpload","imageUrl","state","uploadTask","ref","name","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","url","messageRef","push","onChange","value","bind","componentDidMount","ordersRef","orderByKey","once","forEach","concat","val","ordersList","map","dataList","index","height","width","marginTop","marginBottom","objectFit","padding","border","render"],"mappings":"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","sourcesContent":["import { f, auth, database, storage, storageRef } from \"./config/config.js\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport { Container, Row, Col, Button, NavDropdown } from \"react-bootstrap\";\nimport React, { Component } from \"react\";\n//import storage from \"../Firebase/index\";\n//\n\nclass UploadList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //orderId: [],\n      url: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n  }\n\n  handleChange = e => {\n    if (e.target.files[0]) {\n      const image = e.target.files[0];\n      this.setState(() => ({ image }));\n    }\n  };\n\n  //   //handleuploadteststart\n\n  //handleuploadend\n\n  handleUpload = async imageUrl => {\n    const { image } = this.state;\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    // var photoObj = {\n    //   url: imageUrl\n    // };\n    uploadTask.on(\n      \"state_changed\",\n      snapshot => {\n        // progress function ...\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        this.setState({ progress });\n      },\n      error => {\n        // Error function ...\n        console.log(error);\n      },\n      () => {\n        storage\n          .ref(\"/images/\")\n          .child(image.name)\n          .getDownloadURL()\n\n          .then(url => {\n            this.setState({ url });\n            const messageRef = f.database().ref(\"downloadUrl\");\n            messageRef.push({\n              url: url\n            });\n            //console.log(imageUrl);\n          });\n      }\n    );\n  };\n  //test\n\n  componentDidMount() {\n    // this.state = {\n    //   //orderId: [],\n    //   url: []\n    // };\n    const ordersRef = f\n      .database()\n      .ref()\n      .child(\"downloadUrl\")\n      .orderByKey();\n\n    ordersRef.once(\"value\", snapshot => {\n      snapshot.forEach(child => {\n        this.setState({\n          url: this.state.url.concat([child.val().url])\n        });\n      });\n\n      const ordersList = this.state.url.map((dataList, index) => (\n        // <p>\n        //   {/* {dataList} */}\n        //   <br />\n\n        <Col\n          sm={3}\n          style={{\n            height: \"50px\",\n            width: \"50px\",\n            marginTop: \"10px\",\n            marginBottom: \"10px\"\n          }}\n        >\n          <img\n            src={this.state.url[index]}\n            height='100%'\n            width='100%'\n            style={{\n              objectFit: \"scale-down\",\n              padding: \"10px\",\n              border: \"1px solid grey\"\n            }}\n          />\n        </Col>\n      ));\n\n      this.setState({\n        ordersRef: ordersList\n      });\n    });\n\n    //end test\n  }\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\n  //test\n\n  render() {\n    const messageRef = f.database().ref(\"downloadUrl\");\n    console.log(messageRef);\n    return (\n      <div className='center'>\n        <br />\n        <h2 className='green-text'>React Firebase Image Uploader</h2>\n        <br />\n        <br />\n        <div className='row'>\n          <progress\n            value={this.state.progress}\n            max='100'\n            className='progress'\n          />\n        </div>\n        <br />\n        <br />\n        <br />\n        <div className='file-field input-field'>\n          <div className='btn'>\n            <span>File</span>\n            <input type='file' onChange={this.handleChange} />\n          </div>\n          <div className='file-path-wrapper'>\n            <input className='file-path validate' type='text' />\n          </div>\n        </div>\n        <button\n          value={this.state.url}\n          name='upload'\n          onClick={this.handleUpload}\n          onChange={this.onChange}\n          className='waves-effect waves-light btn'\n        >\n          Upload\n        </button>\n        <br />\n        <br />\n        {\n          <img\n            src={this.state.url || \"https://via.placeholder.com/400x300\"}\n            alt='Uploaded Images'\n            height='300'\n            width='400'\n          />\n        }\n        <p>hi</p>\n        <div className='App'>\n          <p className='App-intro'>\n            <ul>\n              <Row>{this.state.ordersRef}</Row>\n            </ul>\n          </p>\n        </div>\n        <br></br>\n        hey\n      </div>\n    );\n    // var imagesRef = storageRef.child(\"images\");\n    // console.log(\"hello\");\n  }\n}\n\nexport default UploadList;\n"]},"metadata":{},"sourceType":"module"}